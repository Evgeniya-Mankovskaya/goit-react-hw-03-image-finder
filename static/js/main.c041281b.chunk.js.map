{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Container/Container.module.css","components/Searchbar/Searchbar.js","services/api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Container/Container.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","state","searchQuery","handleQueryChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","className","s","searchbar","this","searchForm","type","button","buttonLabel","onChange","input","autoComplete","autoFocus","placeholder","Component","ImageApi","page","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","src","alt","onClick","id","imageGalleryItem","imageGalleryItemImage","Button","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackDropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","handleBackdropClick","modal","tags","ImageGallery","gallery","status","error","showModal","getItems","ImageAPI","hits","length","catch","handleScroll","scrollTo","top","documentElement","scrollHeight","behavior","loadMore","toggleModal","prevState","onOpen","largeImageURL","prevProps","arr","newImgArr","forEach","push","loader","color","height","width","imageGallery","map","Container","children","container","App","handleFormSubmit","Searchbar","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,UAAY,+B,uMCIxBC,E,4MACJC,MAAQ,CACNC,YAAa,I,EAGfC,kBAAoB,SAACC,GACnB,EAAKC,SAAS,CAAEH,YAAaE,EAAME,cAAcC,MAAMC,iB,EAEzDC,aAAe,SAACL,GACdA,EAAMM,iBACgC,KAAlC,EAAKT,MAAMC,YAAYS,QAI3B,EAAKC,MAAMC,SAAS,EAAKZ,MAAMC,aAC/B,EAAKG,SAAS,CAAEH,YAAa,MAJ3BY,YAAM,qC,4CAMV,WACE,OACE,wBAAQC,UAAWC,IAAEC,UAArB,SACE,uBAAMJ,SAAUK,KAAKT,aAAcM,UAAWC,IAAEG,WAAhD,UACE,yBAAQC,KAAK,SAASL,UAAWC,IAAEK,OAAnC,UACE,sBAAMN,UAAWC,IAAEM,YAAnB,oBACA,cAAC,IAAD,OAGF,uBACEf,MAAOW,KAAKjB,MAAMC,YAClBqB,SAAUL,KAAKf,kBACfY,UAAWC,IAAEQ,MACbJ,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GAjCAC,aAyCT5B,I,kDC3CA,SAAS6B,EAAS3B,EAAa4B,GAC5C,IAAMC,EAJS,2BAKL,aACF7B,EADE,iBACkB4B,EADlB,gBAJI,qCAIJ,wDAEV,OAAOE,MAAMD,GAAKE,MAAK,SAACC,GACtB,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAJ,0B,qBCWXC,EAlBU,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,IAAKC,EAAuB,EAAvBA,IAAKC,EAAkB,EAAlBA,QAASC,EAAS,EAATA,GAC7C,OACE,oBACE7B,UAAWC,IAAE6B,iBACbF,QAAS,WACPA,EAAQF,EAAKC,EAAKE,IAHtB,SAME,qBAAKH,IAAKA,EAAKC,IAAKA,EAAK3B,UAAWC,IAAE8B,2B,iBCI7BC,MAZf,YAA8B,IAAZJ,EAAW,EAAXA,QAChB,OACE,wBAAQvB,KAAK,SAASL,UAAWC,IAAEK,OAAQsB,QAASA,EAApD,wB,iBCDEK,EAAYC,SAASC,cAAc,eAEnCC,E,4MAOJC,cAAgB,SAACC,GACA,WAAXA,EAAEC,MACJ,EAAK1C,MAAM2C,W,EAGfC,oBAAsB,SAACH,GACjBA,EAAE/C,gBAAkB+C,EAAEI,QACxB,EAAK7C,MAAM2C,W,uDAbf,WACEG,OAAOC,iBAAiB,UAAWzC,KAAKkC,iB,kCAE1C,WACEM,OAAOE,oBAAoB,UAAW1C,KAAKkC,iB,oBAY7C,WACE,OAAOS,uBACL,qBAAK9C,UAAWC,IAAE8C,QAASnB,QAASzB,KAAK6C,oBAAzC,SACE,qBAAKhD,UAAWC,IAAEgD,MAAlB,SACE,qBAAKvB,IAAKvB,KAAKN,MAAM6B,IAAKC,IAAKxB,KAAKN,MAAMqD,WAG9CjB,O,GAxBcpB,aAgCLuB,IC7BTe,E,4MACJjE,MAAQ,CACNkE,QAAS,GACTC,OAAQ,OACRC,MAAO,KACPvC,KAAM,EACNwC,WAAW,G,EAYbC,SAAW,WACT,EAAKlE,SAAS,CAAE8D,QAAS,GAAIC,OAAQ,YACrCI,EAAS,EAAK5D,MAAMV,YAAa,EAAKD,MAAM6B,MACzCG,MAAK,SAACkC,GACL,GAA4B,IAAxBA,EAAQM,KAAKC,OACf,OAAOrC,QAAQC,OACb,IAAIC,MAAJ,kCAAqC,EAAK3B,MAAMV,eAGlD,EAAKG,SAAS,CACZ8D,QAAQ,YAAKA,EAAQM,MAErBL,OAAQ,WACRlE,YAAa,EAAKU,MAAMV,iBAI7ByE,OAAM,SAACN,GACN,EAAKhE,SAAS,CAAEgE,QAAOD,OAAQ,aAC/BtD,YAAM,2B,EAIZ8D,aAAe,WACblB,OAAOmB,SAAS,CACdC,IAAK7B,SAAS8B,gBAAgBC,aAC9BC,SAAU,Y,EAIdC,SAAW,WACT,EAAK7E,SAAS,CACZyB,KAAM,EAAK7B,MAAM6B,KAAO,K,EAW5BqD,YAAc,WACZ,EAAK9E,UAAS,SAAC+E,GAAD,MAAgB,CAAEd,WAAYc,EAAUd,e,EAGxDe,OAAS,SAAC5C,EAAKC,GACb,EAAKrC,SAAS,CACZiF,cAAe7C,EACfC,IAAKA,IAEP,EAAKyC,e,EAEP5B,QAAU,WACR,EAAKlD,SAAS,CACZiF,cAAe,GACf5C,IAAK,M,wDAnET,SAAmB6C,EAAWH,GAE1BG,EAAUrF,cAAgBgB,KAAKN,MAAMV,aACrCkF,EAAUtD,OAASZ,KAAKjB,MAAM6B,MAE9BZ,KAAKqD,WAEPrD,KAAK0D,iB,oBAsCP,SAAOY,GACL,IAAMC,EAAY,GAIlB,OAHAD,EAAIE,SAAQ,YAAkC,IAA/B9C,EAA8B,EAA9BA,GAAI0C,EAA0B,EAA1BA,cAAerB,EAAW,EAAXA,KAChCwB,EAAUE,KAAK,CAAE/C,KAAI0C,gBAAerB,YAE/BwB,I,oBAoBT,WAAU,IAAD,OACP,EAA2DvE,KAAKjB,MAAxDkE,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,OAAQkB,EAAzB,EAAyBA,cAAe5C,EAAxC,EAAwCA,IAAK4B,EAA7C,EAA6CA,UAE7C,MAAe,SAAXF,EACK,qDAGM,YAAXA,EAEA,cAAC,IAAD,CACErD,UAAWC,IAAE4E,OACbxE,KAAK,SACLyE,MAAM,YACNC,OAAQ,GACRC,MAAO,KAKE,aAAX3B,EACK,qDAGM,aAAXA,EAEA,gCACGE,GACC,cAAC,EAAD,CAAOf,QAASrC,KAAKiE,YAAa1C,IAAK6C,EAAerB,KAAMvB,IAE9D,oBAAI3B,UAAWC,IAAEgF,aAAjB,SACG7B,EAAQ8B,KAAI,YAAkC,IAA/BX,EAA8B,EAA9BA,cAAerB,EAAe,EAAfA,KAAMrB,EAAS,EAATA,GACnC,OACE,cAAC,EAAD,CAEEH,IAAK6C,EACL5C,IAAKuB,EACLtB,QAAS,EAAK0C,QAHTzC,QAQb,cAAC,EAAD,CAAQD,QAASzB,KAAKgE,mBAlB5B,M,GArGuBtD,aA8HZsC,I,yBCnIAgC,MAJf,YAAkC,IAAbC,EAAY,EAAZA,SACnB,OAAO,qBAAKpF,UAAWC,IAAEoF,UAAlB,SAA8BD,KCQjCE,E,4MACJpG,MAAQ,CACNC,YAAa,I,EAEfoG,iBAAmB,SAACpG,GAClB,EAAKG,SAAS,CAAEH,iB,4CAGlB,WACE,IAAQA,EAAgBgB,KAAKjB,MAArBC,YACR,OACE,qCACE,cAAC,EAAD,UACE,cAACqG,EAAD,CAAW1F,SAAUK,KAAKoF,qBAE5B,cAAC,EAAD,UACE,cAAC,EAAD,CAAcpG,YAAaA,MAE7B,cAAC,IAAD,CAAgBsG,SAAS,sB,GAlBf5E,aAwBHyE,IC7BfI,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1D,SAAS2D,eAAe,U,kBCR1B9G,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,OAAS,0BAA0B,YAAc,+BAA+B,MAAQ,4B","file":"static/js/main.c041281b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__hH0hu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2o1ff\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__zlQDc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3-hNk\",\"modal\":\"Modal_modal__P0Y6H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1NqR-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1CXmP\"};","import { Component } from \"react\";\nimport { GoSearch } from \"react-icons/go\";\nimport { toast } from \"react-toastify\";\nimport s from \"./Searchbar.module.css\";\n\nclass SearchBar extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleQueryChange = (event) => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.searchQuery.trim() === \"\") {\n      toast(\"Enter query in the search field.\");\n      return;\n    }\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.searchForm}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.buttonLabel}>Search</span>\n            <GoSearch />\n          </button>\n\n          <input\n            value={this.state.searchQuery}\n            onChange={this.handleQueryChange}\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","const BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"24006610-770c029dafc5e505b4312f4f7\";\n\nexport default function ImageApi(searchQuery, page) {\n  const url =\n    BASE_URL +\n    `?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  return fetch(url).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Nothing were found`));\n  });\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ src, alt, onClick, id }) => {\n  return (\n    <li\n      className={s.imageGalleryItem}\n      onClick={() => {\n        onClick(src, alt, id);\n      }}\n    >\n      <img src={src} alt={alt} className={s.imageGalleryItemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string,\n  alt: PropTypes.string,\n  onClick: PropTypes.func,\n};\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nfunction Button({ onClick }) {\n  return (\n    <button type=\"button\" className={s.button} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  handleBackDropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>\n          <img src={this.props.src} alt={this.props.tags} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\nModal.propTypes = {\n  src: PropTypes.string,\n  tags: PropTypes.string,\n};\nexport default Modal;\n","import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./ImageGallery.module.css\";\nimport ImageAPI from \"../../services/api\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\n\nclass ImageGallery extends Component {\n  state = {\n    gallery: [],\n    status: \"idle\",\n    error: null,\n    page: 1,\n    showModal: false,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevProps.searchQuery !== this.props.searchQuery ||\n      prevState.page !== this.state.page\n    ) {\n      this.getItems();\n    }\n    this.handleScroll();\n  }\n\n  getItems = () => {\n    this.setState({ gallery: [], status: \"pending\" });\n    ImageAPI(this.props.searchQuery, this.state.page)\n      .then((gallery) => {\n        if (gallery.hits.length === 0) {\n          return Promise.reject(\n            new Error(`Nothing were found with ${this.props.searchQuery}`)\n          );\n        } else {\n          this.setState({\n            gallery: [...gallery.hits],\n            // gallery: [...this.state.gallery, ...gallery.hits],\n            status: \"resolved\",\n            searchQuery: this.props.searchQuery,\n          });\n        }\n      })\n      .catch((error) => {\n        this.setState({ error, status: \"rejected\" });\n        toast(\"Someting went wrong\");\n      });\n  };\n\n  handleScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  loadMore = () => {\n    this.setState({\n      page: this.state.page + 1,\n    });\n  };\n  images(arr) {\n    const newImgArr = [];\n    arr.forEach(({ id, largeImageURL, tags }) => {\n      newImgArr.push({ id, largeImageURL, tags });\n    });\n    return newImgArr;\n  }\n\n  toggleModal = () => {\n    this.setState((prevState) => ({ showModal: !prevState.showModal }));\n  };\n\n  onOpen = (src, alt) => {\n    this.setState({\n      largeImageURL: src,\n      alt: alt,\n    });\n    this.toggleModal();\n  };\n  onClose = () => {\n    this.setState({\n      largeImageURL: \"\",\n      alt: \"\",\n    });\n  };\n  render() {\n    const { gallery, status, largeImageURL, alt, showModal } = this.state;\n\n    if (status === \"idle\") {\n      return <div>Enter search query</div>;\n    }\n\n    if (status === \"pending\") {\n      return (\n        <Loader\n          className={s.loader}\n          type=\"Hearts\"\n          color=\"#cea8d67a\"\n          height={80}\n          width={80}\n        />\n      );\n    }\n\n    if (status === \"rejected\") {\n      return <div>Nothing were found</div>;\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <div>\n          {showModal && (\n            <Modal onClose={this.toggleModal} src={largeImageURL} tags={alt} />\n          )}\n          <ul className={s.imageGallery}>\n            {gallery.map(({ largeImageURL, tags, id }) => {\n              return (\n                <ImageGalleryItem\n                  key={id}\n                  src={largeImageURL}\n                  alt={tags}\n                  onClick={this.onOpen}\n                />\n              );\n            })}\n          </ul>\n          <Button onClick={this.loadMore} />\n        </div>\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n","import s from \"./Container.module.css\";\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nexport default Container;\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport \"./App.css\";\nimport Container from \"./components/Container/Container\";\n\n// Your API key: 24006610-770c029dafc5e505b4312f4f7\n//\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n  handleFormSubmit = (searchQuery) => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <>\n        <Container>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n        </Container>\n        <Container>\n          <ImageGallery searchQuery={searchQuery} />\n        </Container>\n        <ToastContainer position=\"top-center\" />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3QhOA\",\"searchForm\":\"Searchbar_searchForm__3NovK\",\"button\":\"Searchbar_button__3tYtF\",\"buttonLabel\":\"Searchbar_buttonLabel__1l0Bx\",\"input\":\"Searchbar_input__2WPy7\"};"],"sourceRoot":""}